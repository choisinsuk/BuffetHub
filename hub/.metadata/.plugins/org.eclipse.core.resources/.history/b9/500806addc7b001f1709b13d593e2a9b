package com.hub.config;

import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;

import org.modelmapper.Converter;
import org.modelmapper.ModelMapper;
import org.modelmapper.convention.MatchingStrategies;
import org.modelmapper.spi.MappingContext;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
public class RootConfig {

	@Bean
	public ModelMapper getMapper() {
		ModelMapper modelMapper = new ModelMapper();
		modelMapper.getConfiguration().setFieldMatchingEnabled(true)
		.setFieldAccessLevel(org.modelmapper.config.Configuration.AccessLevel.PRIVATE)
		.setMatchingStrategy(MatchingStrategies.LOOSE);
		
//		// Custom Converter for String to Date
//        Converter<String, Date> stringToDateConverter = new Converter<String, Date>() {
//            public Date convert(MappingContext<String, Date> context) {
//                String source = context.getSource();
//                try {
//                    // Example format: "yyyy-MM-dd"
//                    SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
//                    return sdf.parse(source);
//                } catch (ParseException e) {
//                    // Handle parsing exception
//                    return null;
//                }
//            }
//        };
//
//        modelMapper.addConverter(stringToDateConverter);
		
		return modelMapper;
	}
}


